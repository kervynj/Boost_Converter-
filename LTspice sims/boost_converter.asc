Version 4
SHEET 1 2816 1140
WIRE 704 -288 704 -304
WIRE 832 -288 832 -304
WIRE 544 -272 544 -304
WIRE 704 -272 704 -288
WIRE 832 -272 832 -288
WIRE 544 -176 544 -192
WIRE 704 -176 704 -192
WIRE 832 -176 832 -192
WIRE -1312 -64 -1424 -64
WIRE -1184 -64 -1232 -64
WIRE -1168 -64 -1184 -64
WIRE -1008 -64 -1088 -64
WIRE -944 -64 -1008 -64
WIRE -832 -64 -880 -64
WIRE -656 -64 -832 -64
WIRE 544 -32 512 -32
WIRE 656 -32 624 -32
WIRE 704 -32 656 -32
WIRE 832 -32 784 -32
WIRE 944 -32 832 -32
WIRE -1424 -16 -1424 -64
WIRE -1008 0 -1008 -64
WIRE -832 0 -832 -64
WIRE -656 0 -656 -64
WIRE 192 0 128 0
WIRE 656 0 656 -32
WIRE 832 0 832 -32
WIRE 128 48 128 0
WIRE -1152 80 -1168 80
WIRE -1056 80 -1072 80
WIRE 656 80 656 64
WIRE 832 80 832 64
WIRE -1424 128 -1424 64
WIRE -1008 128 -1008 96
WIRE -832 128 -832 64
WIRE -832 128 -1008 128
WIRE -656 128 -656 80
WIRE -656 128 -832 128
WIRE -832 144 -832 128
WIRE 128 160 128 128
WIRE -560 416 -576 416
WIRE -432 416 -480 416
WIRE 432 432 400 432
WIRE 544 432 512 432
WIRE 1008 432 976 432
WIRE 1120 432 1088 432
WIRE -688 528 -736 528
WIRE -576 528 -576 416
WIRE -576 528 -608 528
WIRE -544 528 -576 528
WIRE -432 544 -432 416
WIRE -432 544 -480 544
WIRE -352 544 -432 544
WIRE -128 544 -160 544
WIRE 112 544 -48 544
WIRE 240 544 176 544
WIRE 288 544 240 544
WIRE 400 544 400 432
WIRE 400 544 368 544
WIRE 432 544 400 544
WIRE 1040 544 1040 528
WIRE -1152 560 -1184 560
WIRE -1040 560 -1072 560
WIRE -544 560 -608 560
WIRE -432 560 -432 544
WIRE 544 560 544 432
WIRE 544 560 496 560
WIRE 608 560 544 560
WIRE 864 560 832 560
WIRE 976 560 976 432
WIRE 976 560 944 560
WIRE 1008 560 976 560
WIRE 432 576 400 576
WIRE 1120 576 1120 432
WIRE 1120 576 1072 576
WIRE 1136 576 1120 576
WIRE -512 592 -512 576
WIRE 240 592 240 544
WIRE 1008 592 960 592
WIRE 1040 624 1040 608
WIRE -128 640 -160 640
WIRE 112 640 112 544
WIRE 112 640 -48 640
WIRE 960 640 960 592
WIRE 544 656 544 640
WIRE -1520 672 -1552 672
WIRE -1424 672 -1440 672
WIRE -1376 672 -1424 672
WIRE -1184 672 -1184 560
WIRE -1184 672 -1296 672
WIRE -1152 672 -1184 672
WIRE -688 672 -736 672
WIRE -608 672 -608 560
WIRE -528 672 -608 672
WIRE -1296 688 -1296 672
WIRE -1040 688 -1040 560
WIRE -1040 688 -1088 688
WIRE -992 688 -1040 688
WIRE -528 688 -528 672
WIRE -1424 704 -1424 672
WIRE -1152 704 -1184 704
WIRE -1184 736 -1184 704
WIRE 240 752 240 672
WIRE 400 752 400 576
WIRE 400 752 240 752
WIRE 448 752 400 752
WIRE 544 752 544 736
WIRE 544 752 448 752
WIRE 544 768 544 752
WIRE 448 800 448 752
WIRE 448 896 448 864
WIRE 544 896 544 848
WIRE 544 896 448 896
WIRE 544 912 544 896
FLAG -1120 656 Vcc
FLAG 704 -176 0
FLAG 704 -288 Vcc
FLAG -1168 80 D_in
IOPIN -1168 80 In
FLAG -1424 128 0
FLAG -832 144 0
FLAG -656 -64 Vc
FLAG -1424 -64 Vs
FLAG -1008 -64 Vsw
FLAG -1552 672 Vc
FLAG -1184 736 0
FLAG 832 -176 0
FLAG 832 -288 -Vcc
FLAG -1120 720 -Vcc
FLAG -1296 752 0
FLAG -992 688 -k*Vc
FLAG -1184 -64 vpos
FLAG -528 768 0
FLAG -736 672 Vpos
FLAG -736 528 Vsw
FLAG -512 512 Vcc
FLAG -512 592 -Vcc
FLAG -352 544 -k*IL
FLAG 464 528 Vcc
FLAG 464 592 -Vcc
FLAG 608 560 sum
FLAG -160 544 -k*IL
FLAG -160 640 -k*Vc
FLAG 960 640 saw
FLAG 832 560 sum
FLAG 1040 624 0
FLAG 1040 528 Vs
FLAG 1136 576 D_in
FLAG -1424 784 -Vout
FLAG 544 -176 0
FLAG 544 -304 -Vout
FLAG 544 640 Vcc
FLAG 544 912 0
FLAG 544 752 Vcm
FLAG 512 -32 Duty_in
IOPIN 512 -32 In
FLAG 656 80 0
FLAG 832 80 0
FLAG 944 -32 saw
FLAG 128 160 0
FLAG 192 0 Duty_in
SYMBOL Opamps\\UniversalOpamp2 -1120 688 R0
SYMATTR InstName U1
SYMBOL res -1392 688 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -1056 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 60k
SYMBOL voltage 704 -288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 15v
SYMBOL res -672 -16 R0
SYMATTR InstName R3
SYMATTR Value 450
SYMBOL cap -848 0 R0
SYMATTR InstName C1
SYMATTR Value 10µF IC=10V
SYMBOL diode -944 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL nmos -1056 0 R0
SYMATTR InstName M1
SYMATTR Value IRF510
SYMBOL ind -1328 -48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 2.5mH
SYMBOL voltage -1424 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage 832 -288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value -15v
SYMBOL cap -1312 688 R0
SYMATTR InstName C2
SYMATTR Value 47nF
SYMBOL res -1072 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 0.1
SYMBOL Opamps\\UniversalOpamp2 -512 544 R0
SYMATTR InstName U2
SYMBOL res -592 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 20k
SYMBOL res -704 688 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 20k
SYMBOL res -576 432 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res -512 784 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL Opamps\\UniversalOpamp2 464 560 R0
SYMATTR InstName U3
SYMBOL res 272 560 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL res 528 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL res -32 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res -32 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL Opamps\\UniversalOpamp2 1040 576 R0
SYMATTR InstName U4
SYMBOL res -1424 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res -1440 688 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL voltage 544 -288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value -15V
SYMBOL res 528 640 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL res 528 752 R0
SYMATTR InstName R18
SYMATTR Value 1.5K
SYMBOL cap 176 528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1nF
SYMBOL res 224 576 R0
SYMATTR InstName R19
SYMATTR Value 100k
SYMBOL cap 432 800 R0
SYMATTR InstName C6
SYMATTR Value 100nF
SYMBOL res 1104 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL res 960 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL res -1056 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 100
SYMBOL res 640 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 800 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL cap 640 0 R0
SYMATTR InstName C3
SYMATTR Value 1nF
SYMBOL cap 816 0 R0
SYMATTR InstName C8
SYMATTR Value 1nF
SYMBOL voltage 128 32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 0 1n 1n {ton} {period})
TEXT -456 -32 Left 2 !.param frequency=10k
TEXT -456 8 Left 2 !.param period = 1/frequency
TEXT -448 56 Left 2 !.param ton = duty*period
TEXT -448 -64 Left 2 !.param duty=0.5
TEXT -1408 -184 Left 2 !.param Il_eqm = 5/(450*(1-duty)^2)
TEXT -1400 -152 Left 2 !.IC I(L1)=0.1
TEXT 664 192 Left 4 ;Signal Generator
TEXT -400 -208 Left 4 ;Boost Converter
TEXT -1552 944 Left 5 ;State-Space Regulator
TEXT -1000 752 Left 2 ;Vcdelta*(-K2)
TEXT -440 624 Left 2 ;ILdelta*(-K1)
TEXT -192 456 Left 2 ;Vcdelta*(-K2)+ILdelta*(-K1)
TEXT 584 456 Left 2 ;-[Vcdelta*(-K2)+ILdelta*(-K1)]
TEXT -448 104 Left 2 !.tran 40m
RECTANGLE Normal 1040 256 32 -112 2
RECTANGLE Normal -48 256 -1600 -256 2
RECTANGLE Normal 1232 992 -1600 336 2
